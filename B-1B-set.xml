<?xml version="1.0"?>
<!--
************************************************************************
B-1B set file.

2007-5-10 Markus Zojer
************************************************************************
-->

<PropertyList>
  <sim>

    <startup>
      <splash-texture>Aircraft/B-1B/bone.rgb</splash-texture>
    </startup>

    <flight-model>yasim</flight-model>
    <status>alpha</status>
    <author>Markus Zojer</author>
    <aero>B-1B-yasim</aero>
    <fuel-fraction>1.0</fuel-fraction>

    <description>Rockwell B-1B Lancer</description>

    <number-views type="int" archive="y">6</number-views>

    <chase-distance-m type="double" archive="y">-65.0</chase-distance-m>

    <view n="0">
      <internal archive="y">true</internal>
      <config>
        <x-offset-m archive="y">-0.67</x-offset-m><!-- left-/right+ -->
        <y-offset-m archive="y">1.70</y-offset-m><!-- up+/down- -->
        <z-offset-m archive="y">7.53</z-offset-m><!-- back+ -->
        <pitch-offset-deg>0</pitch-offset-deg>
        <default-field-of-view-deg>60</default-field-of-view-deg>
      </config>
    </view>

    

<!-- Shift the camera target point back -->
    <view n="1">
      <config>
        <target-z-offset-m archive="y" type="double">20.0</target-z-offset-m>
      </config>
    </view>

    <view n="2">
      <config>
        <x-offset-m archive="y" type="double">8.0</x-offset-m>
        <z-offset-m archive="y">-19.7</z-offset-m>
        <target-z-offset-m archive="y" type="double">20.0</target-z-offset-m>
      </config>
    </view>

    <view n="3">
      <config>
        <target-z-offset-m archive="y" type="double">20.0</target-z-offset-m>
      </config>
    </view>

    <view n="5">
      <config>
        <target-z-offset-m archive="y" type="double">2.0</target-z-offset-m>
      </config>
    </view>

    <sound>
      <audible>true</audible>
      <path>Aircraft/B-1B/Sounds/b-1b-sound.xml</path>
    </sound>
    
    <submodels>
	    <serviceable type="bool">true</serviceable>
	    <path>Aircraft/B-1B/Submodels/sub_lancer.xml</path>
    </submodels>

    <!--  <panel>
      <path>Aircraft/B-1B/Panels/there_is_no_spoon.747</path>
</panel>-->


    <!--<hud>
      <path>Aircraft/B-1B/Huds/B-52F-hud1.xml</path>
      <visibility>true</visibility>
    </hud>-->

    <model>
      <path>Aircraft/B-1B/Models/B-1B.xml</path>
         <!-- <doors>
		 <fuelhatch/>
		 <hatch/>
	</doors>-->
	<!--<B-1B>
	<engines>
		<engine n="0">
			<running type="bool">0</running>
		</engine>
		<engine n="1">
			<running type="bool">0</running>
		</engine>
		<engine n="2">
			<running type="bool">0</running>
		</engine>
		<engine n="3">
			<running type="bool">0</running>
	        </engine>
        </engines>
</B-1B>-->

</model>

    <systems>
	<autopilot>
        <path>Aircraft/B-1B/Systems/b1b-autopilot.xml</path>
	</autopilot>
      <!--<electrical>
        <path>Aircraft/B-1B/Systems/b1b-electrical.xml</path>
      </electrical>-->
    </systems>

<wing-sweep>
  <setting>0.00</setting>
  <setting>0.25</setting>
  <setting>0.75</setting>
  <setting>1.00</setting>
</wing-sweep>

    <flaps>
      <setting>0.0</setting>
      <setting>0.5</setting>
      <setting>1.0</setting>
    </flaps>

    <spoilers>
      <setting>0.0</setting>
      <setting>0.5</setting>
      <setting>1.0</setting>
    </spoilers>

<!-- AoA Indexer target 1.0 deg -->
     <aoa-indexer>
       <too-slow-deg>2.5</too-slow-deg>  <!-- target +1.5 deg -->
       <slow-deg>1.5</slow-deg>          <!-- target +0.5 deg -->         
       <fast-deg>0.5</fast-deg>          <!-- target -0.5 deg -->         
       <too-fast-deg>-0.5</too-fast-deg>  <!-- target -1.5 deg -->         
     </aoa-indexer>

    <help>
      <title>B-1B Lancer</title>
      <key>
        <name>j/k</name>
        <desc>decrease/increase spoilers</desc>
      </key>
      <key>
	      <name>o</name>
	      <desc>afterburner on</desc>
      </key>
      <key>
	      <name>O</name>
	      <desc>afterburner off</desc>
      </key>
      <key>
	      <name>d</name>
	      <desc>sweep wing back</desc>
      </key>
      <key>
	      <name>D</name>
	      <desc>sweep wing fwd</desc>
      </key>
      <!-- <key>
	      <name>CTRL B</name>
	      <desc>toggle airbrakes</desc>
      </key>-->
      
      <line>Good Luck!</line>
    </help>
    
   <!--<ai>
	    <enabled type="bool">true</enabled>
	    <scenario>refueling_demo</scenario>
    </ai>-->

  </sim>



  <autopilot>
    <settings>
      <target-agl-ft type="float">1000</target-agl-ft>
      <target-altitude-ft type="float">8000</target-altitude-ft>
      <target-pitch-deg type="float">0</target-pitch-deg>
      <target-vfps type="float">0</target-vfps>
      <take-off-pitch-deg type="float">2.0</take-off-pitch-deg>
      <target-speed-kt type="float">290.0</target-speed-kt>
      <climb-out-initial-pitch-deg type="float">6.0</climb-out-initial-pitch-deg>
      <climb-out-final-pitch-deg type="float">3.0</climb-out-final-pitch-deg>
      <target-climb-rate-fpm type="float">2000.0</target-climb-rate-fpm>
     <target-descent-rate-fpm type="float">2000.0</target-descent-rate-fpm>
      <ground-roll-heading-deg type="float">-999.9</ground-roll-heading-deg>
      <target-mach type="float">0.9</target-mach>
      <target-aoa-deg type="float">1.0</target-aoa-deg>
      <max-roll-deg type="float">60</max-roll-deg>
    </settings>

    <!-- <locks>
      <aoa type="string">initialised</aoa>
      <auto-take-off type="string">enabled</auto-take-off>
      <auto-landing type="string">disabled</auto-landing>
      <rudder-control type="string">initialised</rudder-control>
      <take-off-phase type="string">initialised</take-off-phase>
</locks>-->
</autopilot>

<!-- Start with the Parking Brake on -->
  <controls>
    <gear>
      <brake-parking type="double">1.0</brake-parking>
    </gear>
    <flight>
      <wing-sweep type="double">0.0</wing-sweep>
      <flaps type="double">0.0</flaps>
      <elevator-incidence-deg type="double">0.0</elevator-incidence-deg>
    </flight>
    <engines>
	    <engine n="0">
		    <magnetos type="double">0</magnetos>
		    <throttle type="double">0.0</throttle>
		    <cutoff>1</cutoff>
		    <ignition>0</ignition>
	    </engine>
	    <engine n="1">
		    <magnetos type="double">0</magnetos>
		    <throttle type="double">0.0</throttle>
		    <cutoff>1</cutoff>
		    <ignition>0</ignition>
	    </engine>
	    <engine n="2">
		    <magnetos type="double">0</magnetos>
		    <throttle type="double">0.0</throttle>
		    <cutoff>1</cutoff>
		    <ignition>0</ignition>
	    </engine>
	    <engine n="3">
		    <magnetos type="double">0</magnetos>
		    <throttle type="double">0.0</throttle>
		    <cutoff>1</cutoff>
		    <ignition>0</ignition>
	    </engine>
        </engines>
  </controls>
  
<!-- Engine indexes -->
  <engines>
    <engine n="0">
	    <engine-num type="int">0</engine-num>
	    <running>false</running>
	    <rpm type="double">0</rpm>
    </engine>
    <engine n="1">
	    <engine-num type="int">1</engine-num>
	    <running>false</running>
	    <rpm type="double">0</rpm>
    </engine>
    <engine n="2">
	    <engine-num type="int">2</engine-num>
	    <running>false</running>
	    <rpm type="double">0</rpm>
    </engine>
    <engine n="3">
	    <engine-num type="int">3</engine-num>
	    <running>false</running>
	    <rpm type="double">0</rpm>
    </engine>
    
  </engines>

<!-- Fuel -->
  <consumables>
    <fuel>
      <tank n="0">
        <tank-num type="int">0</tank-num>
        <kill-when-empty type="bool">false</kill-when-empty>
      </tank>
      <tank n="1">
        <tank-num type="int">1</tank-num>
        <kill-when-empty type="bool">false</kill-when-empty>
      </tank>
      <tank n="2">
        <tank-num type="int">2</tank-num>
        <kill-when-empty type="bool">false</kill-when-empty>
      </tank>
      <tank n="3">
	      <tank-num type="int">3</tank-num>
	      <kill-when-empty type="bool">false</kill-when-empty>
      </tank>
      <tank n="4">
	      <tank-num type="int">4</tank-num>
	      <kill-when-empty type="bool">false</kill-when-empty>
      </tank>
      <tank n="5">
	      <tank-num type="int">5</tank-num>
	      <kill-when-empty type="bool">false</kill-when-empty>
      </tank>
      <tank n="6">
	      <tank-num type="int">6</tank-num>
	      <kill-when-empty type="bool">false</kill-when-empty>
      </tank>
      <tank n="7">
	      <tank-num type="int">7</tank-num>
	      <kill-when-empty type="bool">false</kill-when-empty>
      </tank>
    </fuel>
  </consumables>

  <instrumentation>
    <radar>
      <range type="int" archive="y">40</range>
      <minimized type="bool" archive="y">true</minimized>
    </radar>
  </instrumentation>
  
  <input>
	  <keyboard>
		  
		  <!-- map keys for afterburner -->
		  <key n="79"> 
			  <name>O</name>
			  <desc>afterburner/off</desc>
			  <binding n="0">
				<command>nasal</command>
				<script>b1b.aftburn_off()</script>
			</binding>
		  </key>
		  
		  <key n="111"> 
			  <name>o</name>
			  <desc>afterburner/on</desc>
			  <binding n="0"> 
				  <command>nasal</command>
				<script>b1b.aftburn_on()</script>
			  </binding>
		  </key>
		  
		  <key n="2">
			  <name>Ctrl-B</name>
			  <desc>Toggle speedbrake.</desc>
			  <binding>
				  <command>property-toggle</command>
				  <property>controls/flight/speedbrake</property>
			  </binding>
      		  </key>
		  
		  <!-- map keys for wingsweep 
		  
		  <key n="100">
			  <name>d</name>
			  <desc>wing sweep aft</desc>
			<binding>
				  <command>property-adjust</command>
				  <property>/controls/flight/wing-sweep</property>
				  <step type="double">-0.25</step>
        		</binding>
      		  </key>
		  
		  <key n="68">
			  <name>D</name>
			  <desc>wing sweep fwd</desc>
			<binding>
				  <command>property-adjust</command>
				  <property>/controls/flight/wing-sweep</property>
				  <step type="double">0.25</step>
        		</binding>
		  </key>-->
		  
		  <key n="100">
			  <name>d</name>
			  <desc>Increase sweep</desc>
			  <binding>
				  <command>nasal</command>
				  <script>b1b.wingSweep(-1)</script>
			  </binding>
			  <mod-up>
				  <binding>
					  <command>nasal</command>
					  <script>b1b.wingSweep(0)</script>
				  </binding>
			  </mod-up>
		  </key>
		  
		  <key n="68">
			  <name>D</name>
			  <desc>Decrease sweep</desc>
			  <binding>
				  <command>nasal</command>
				  <script>b1b.wingSweep(1)</script>
			  </binding>
			  <mod-up>
				  <binding>
					  <command>nasal</command>
					  <script>b1b.wingSweep(0)</script>
				  </binding>
			  </mod-up>
 </key>
		  
		  
	  </keyboard>
</input>


<nasal>
	<b1b>
		<file>Aircraft/B-1B/Nasal/b1b.nas</file>
		<script>init_b1b();</script>
	</b1b>
	<b1b-fuel>
		<module>fuel-aar</module>
		<file>Aircraft/Generic/aar.nas</file>
	</b1b-fuel>

</nasal>

</PropertyList>
